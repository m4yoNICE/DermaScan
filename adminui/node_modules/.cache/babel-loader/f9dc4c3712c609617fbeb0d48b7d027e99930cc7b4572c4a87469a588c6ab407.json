{"ast":null,"code":"'use client';\n\nimport * as React from 'react';\nimport { isHTMLElement } from '@floating-ui/utils/dom';\nimport { useEventCallback } from '@base-ui-components/utils/useEventCallback';\nimport { error } from '@base-ui-components/utils/error';\nimport { useIsoLayoutEffect } from '@base-ui-components/utils/useIsoLayoutEffect';\nimport { makeEventPreventable, mergeProps } from \"../merge-props/index.js\";\nimport { useCompositeRootContext } from \"../composite/root/CompositeRootContext.js\";\nimport { useFocusableWhenDisabled } from \"../utils/useFocusableWhenDisabled.js\";\nexport function useButton(parameters = {}) {\n  const {\n    disabled = false,\n    focusableWhenDisabled,\n    tabIndex = 0,\n    native: isNativeButton = true\n  } = parameters;\n  const elementRef = React.useRef(null);\n  const isCompositeItem = useCompositeRootContext(true) !== undefined;\n  const isValidLink = useEventCallback(() => {\n    const element = elementRef.current;\n    return Boolean(element?.tagName === 'A' && element?.href);\n  });\n  const {\n    props: focusableWhenDisabledProps\n  } = useFocusableWhenDisabled({\n    focusableWhenDisabled,\n    disabled,\n    composite: isCompositeItem,\n    tabIndex,\n    isNativeButton\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useEffect(() => {\n      if (!elementRef.current) {\n        return;\n      }\n      const isButtonTag = elementRef.current.tagName === 'BUTTON';\n      if (isNativeButton) {\n        if (!isButtonTag) {\n          error('A component that acts as a button was not rendered as a native <button>, which does not match the default. Ensure that the element passed to the `render` prop of the component is a real <button>, or set the `nativeButton` prop on the component to `false`.');\n        }\n      } else if (isButtonTag) {\n        error('A component that acts as a button was rendered as a native <button>, which does not match the default. Ensure that the element passed to the `render` prop of the component is not a real <button>, or set the `nativeButton` prop on the component to `true`.');\n      }\n    }, [isNativeButton]);\n  }\n\n  // handles a disabled composite button rendering another button, e.g.\n  // <Toolbar.Button disabled render={<Menu.Trigger />} />\n  // the `disabled` prop needs to pass through 2 `useButton`s then finally\n  // delete the `disabled` attribute from DOM\n  const updateDisabled = React.useCallback(() => {\n    const element = elementRef.current;\n    if (!isButtonElement(element)) {\n      return;\n    }\n    if (isCompositeItem && disabled && focusableWhenDisabledProps.disabled === undefined && element.disabled) {\n      element.disabled = false;\n    }\n  }, [disabled, focusableWhenDisabledProps.disabled, isCompositeItem]);\n  useIsoLayoutEffect(updateDisabled, [updateDisabled]);\n  const getButtonProps = React.useCallback((externalProps = {}) => {\n    const {\n      onClick: externalOnClick,\n      onMouseDown: externalOnMouseDown,\n      onKeyUp: externalOnKeyUp,\n      onKeyDown: externalOnKeyDown,\n      onPointerDown: externalOnPointerDown,\n      ...otherExternalProps\n    } = externalProps;\n    const type = isNativeButton ? 'button' : undefined;\n    return mergeProps({\n      type,\n      onClick(event) {\n        if (disabled) {\n          event.preventDefault();\n          return;\n        }\n        externalOnClick?.(event);\n      },\n      onMouseDown(event) {\n        if (!disabled) {\n          externalOnMouseDown?.(event);\n        }\n      },\n      onKeyDown(event) {\n        if (!disabled) {\n          makeEventPreventable(event);\n          externalOnKeyDown?.(event);\n        }\n        if (event.baseUIHandlerPrevented) {\n          return;\n        }\n        const shouldClick = event.target === event.currentTarget && !isNativeButton && !isValidLink() && !disabled;\n        const isEnterKey = event.key === 'Enter';\n        const isSpaceKey = event.key === ' ';\n\n        // Keyboard accessibility for non interactive elements\n        if (shouldClick) {\n          if (isSpaceKey || isEnterKey) {\n            event.preventDefault();\n          }\n          if (isEnterKey) {\n            externalOnClick?.(event);\n          }\n        }\n      },\n      onKeyUp(event) {\n        // calling preventDefault in keyUp on a <button> will not dispatch a click event if Space is pressed\n        // https://codesandbox.io/p/sandbox/button-keyup-preventdefault-dn7f0\n        // Keyboard accessibility for non interactive elements\n        if (!disabled) {\n          makeEventPreventable(event);\n          externalOnKeyUp?.(event);\n        }\n        if (event.baseUIHandlerPrevented) {\n          return;\n        }\n        if (event.target === event.currentTarget && !isNativeButton && !disabled && event.key === ' ') {\n          externalOnClick?.(event);\n        }\n      },\n      onPointerDown(event) {\n        if (disabled) {\n          event.preventDefault();\n          return;\n        }\n        externalOnPointerDown?.(event);\n      }\n    }, !isNativeButton ? {\n      role: 'button'\n    } : undefined, focusableWhenDisabledProps, otherExternalProps);\n  }, [disabled, focusableWhenDisabledProps, isNativeButton, isValidLink]);\n  const buttonRef = useEventCallback(element => {\n    elementRef.current = element;\n    updateDisabled();\n  });\n  return {\n    getButtonProps,\n    buttonRef\n  };\n}\nfunction isButtonElement(elem) {\n  return isHTMLElement(elem) && elem.tagName === 'BUTTON';\n}","map":{"version":3,"names":["React","isHTMLElement","useEventCallback","error","useIsoLayoutEffect","makeEventPreventable","mergeProps","useCompositeRootContext","useFocusableWhenDisabled","useButton","parameters","disabled","focusableWhenDisabled","tabIndex","native","isNativeButton","elementRef","useRef","isCompositeItem","undefined","isValidLink","element","current","Boolean","tagName","href","props","focusableWhenDisabledProps","composite","process","env","NODE_ENV","useEffect","isButtonTag","updateDisabled","useCallback","isButtonElement","getButtonProps","externalProps","onClick","externalOnClick","onMouseDown","externalOnMouseDown","onKeyUp","externalOnKeyUp","onKeyDown","externalOnKeyDown","onPointerDown","externalOnPointerDown","otherExternalProps","type","event","preventDefault","baseUIHandlerPrevented","shouldClick","target","currentTarget","isEnterKey","key","isSpaceKey","role","buttonRef","elem"],"sources":["C:/Users/james/Documents/DermaScan/adminui/node_modules/@base-ui-components/react/esm/use-button/useButton.js"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { isHTMLElement } from '@floating-ui/utils/dom';\nimport { useEventCallback } from '@base-ui-components/utils/useEventCallback';\nimport { error } from '@base-ui-components/utils/error';\nimport { useIsoLayoutEffect } from '@base-ui-components/utils/useIsoLayoutEffect';\nimport { makeEventPreventable, mergeProps } from \"../merge-props/index.js\";\nimport { useCompositeRootContext } from \"../composite/root/CompositeRootContext.js\";\nimport { useFocusableWhenDisabled } from \"../utils/useFocusableWhenDisabled.js\";\nexport function useButton(parameters = {}) {\n  const {\n    disabled = false,\n    focusableWhenDisabled,\n    tabIndex = 0,\n    native: isNativeButton = true\n  } = parameters;\n  const elementRef = React.useRef(null);\n  const isCompositeItem = useCompositeRootContext(true) !== undefined;\n  const isValidLink = useEventCallback(() => {\n    const element = elementRef.current;\n    return Boolean(element?.tagName === 'A' && element?.href);\n  });\n  const {\n    props: focusableWhenDisabledProps\n  } = useFocusableWhenDisabled({\n    focusableWhenDisabled,\n    disabled,\n    composite: isCompositeItem,\n    tabIndex,\n    isNativeButton\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useEffect(() => {\n      if (!elementRef.current) {\n        return;\n      }\n      const isButtonTag = elementRef.current.tagName === 'BUTTON';\n      if (isNativeButton) {\n        if (!isButtonTag) {\n          error('A component that acts as a button was not rendered as a native <button>, which does not match the default. Ensure that the element passed to the `render` prop of the component is a real <button>, or set the `nativeButton` prop on the component to `false`.');\n        }\n      } else if (isButtonTag) {\n        error('A component that acts as a button was rendered as a native <button>, which does not match the default. Ensure that the element passed to the `render` prop of the component is not a real <button>, or set the `nativeButton` prop on the component to `true`.');\n      }\n    }, [isNativeButton]);\n  }\n\n  // handles a disabled composite button rendering another button, e.g.\n  // <Toolbar.Button disabled render={<Menu.Trigger />} />\n  // the `disabled` prop needs to pass through 2 `useButton`s then finally\n  // delete the `disabled` attribute from DOM\n  const updateDisabled = React.useCallback(() => {\n    const element = elementRef.current;\n    if (!isButtonElement(element)) {\n      return;\n    }\n    if (isCompositeItem && disabled && focusableWhenDisabledProps.disabled === undefined && element.disabled) {\n      element.disabled = false;\n    }\n  }, [disabled, focusableWhenDisabledProps.disabled, isCompositeItem]);\n  useIsoLayoutEffect(updateDisabled, [updateDisabled]);\n  const getButtonProps = React.useCallback((externalProps = {}) => {\n    const {\n      onClick: externalOnClick,\n      onMouseDown: externalOnMouseDown,\n      onKeyUp: externalOnKeyUp,\n      onKeyDown: externalOnKeyDown,\n      onPointerDown: externalOnPointerDown,\n      ...otherExternalProps\n    } = externalProps;\n    const type = isNativeButton ? 'button' : undefined;\n    return mergeProps({\n      type,\n      onClick(event) {\n        if (disabled) {\n          event.preventDefault();\n          return;\n        }\n        externalOnClick?.(event);\n      },\n      onMouseDown(event) {\n        if (!disabled) {\n          externalOnMouseDown?.(event);\n        }\n      },\n      onKeyDown(event) {\n        if (!disabled) {\n          makeEventPreventable(event);\n          externalOnKeyDown?.(event);\n        }\n        if (event.baseUIHandlerPrevented) {\n          return;\n        }\n        const shouldClick = event.target === event.currentTarget && !isNativeButton && !isValidLink() && !disabled;\n        const isEnterKey = event.key === 'Enter';\n        const isSpaceKey = event.key === ' ';\n\n        // Keyboard accessibility for non interactive elements\n        if (shouldClick) {\n          if (isSpaceKey || isEnterKey) {\n            event.preventDefault();\n          }\n          if (isEnterKey) {\n            externalOnClick?.(event);\n          }\n        }\n      },\n      onKeyUp(event) {\n        // calling preventDefault in keyUp on a <button> will not dispatch a click event if Space is pressed\n        // https://codesandbox.io/p/sandbox/button-keyup-preventdefault-dn7f0\n        // Keyboard accessibility for non interactive elements\n        if (!disabled) {\n          makeEventPreventable(event);\n          externalOnKeyUp?.(event);\n        }\n        if (event.baseUIHandlerPrevented) {\n          return;\n        }\n        if (event.target === event.currentTarget && !isNativeButton && !disabled && event.key === ' ') {\n          externalOnClick?.(event);\n        }\n      },\n      onPointerDown(event) {\n        if (disabled) {\n          event.preventDefault();\n          return;\n        }\n        externalOnPointerDown?.(event);\n      }\n    }, !isNativeButton ? {\n      role: 'button'\n    } : undefined, focusableWhenDisabledProps, otherExternalProps);\n  }, [disabled, focusableWhenDisabledProps, isNativeButton, isValidLink]);\n  const buttonRef = useEventCallback(element => {\n    elementRef.current = element;\n    updateDisabled();\n  });\n  return {\n    getButtonProps,\n    buttonRef\n  };\n}\nfunction isButtonElement(elem) {\n  return isHTMLElement(elem) && elem.tagName === 'BUTTON';\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}