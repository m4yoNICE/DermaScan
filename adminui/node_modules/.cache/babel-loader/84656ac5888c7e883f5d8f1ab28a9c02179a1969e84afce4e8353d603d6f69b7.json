{"ast":null,"code":"import * as React from 'react';\nimport { useId } from '@base-ui-components/utils/useId';\nimport { getFloatingFocusElement } from \"../utils.js\";\nimport { useFloatingParentNodeId } from \"../components/FloatingTree.js\";\nconst componentRoleToAriaRoleMap = new Map([['select', 'listbox'], ['combobox', 'listbox'], ['label', false]]);\n\n/**\n * Adds base screen reader props to the reference and floating elements for a\n * given floating element `role`.\n * @see https://floating-ui.com/docs/useRole\n */\nexport function useRole(context, props = {}) {\n  const {\n    open,\n    elements,\n    floatingId: defaultFloatingId\n  } = context;\n  const {\n    enabled = true,\n    role = 'dialog'\n  } = props;\n  const defaultReferenceId = useId();\n  const referenceId = elements.domReference?.id || defaultReferenceId;\n  const floatingId = React.useMemo(() => getFloatingFocusElement(elements.floating)?.id || defaultFloatingId, [elements.floating, defaultFloatingId]);\n  const ariaRole = componentRoleToAriaRoleMap.get(role) ?? role;\n  const parentId = useFloatingParentNodeId();\n  const isNested = parentId != null;\n  const reference = React.useMemo(() => {\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return {\n        [`aria-${role === 'label' ? 'labelledby' : 'describedby'}`]: open ? floatingId : undefined\n      };\n    }\n    return {\n      'aria-expanded': open ? 'true' : 'false',\n      'aria-haspopup': ariaRole === 'alertdialog' ? 'dialog' : ariaRole,\n      'aria-controls': open ? floatingId : undefined,\n      ...(ariaRole === 'listbox' && {\n        role: 'combobox'\n      }),\n      ...(ariaRole === 'menu' && {\n        id: referenceId\n      }),\n      ...(ariaRole === 'menu' && isNested && {\n        role: 'menuitem'\n      }),\n      ...(role === 'select' && {\n        'aria-autocomplete': 'none'\n      }),\n      ...(role === 'combobox' && {\n        'aria-autocomplete': 'list'\n      })\n    };\n  }, [ariaRole, floatingId, isNested, open, referenceId, role]);\n  const floating = React.useMemo(() => {\n    const floatingProps = {\n      id: floatingId,\n      ...(ariaRole && {\n        role: ariaRole\n      })\n    };\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return floatingProps;\n    }\n    return {\n      ...floatingProps,\n      ...(ariaRole === 'menu' && {\n        'aria-labelledby': referenceId\n      })\n    };\n  }, [ariaRole, floatingId, referenceId, role]);\n  const item = React.useCallback(({\n    active,\n    selected\n  }) => {\n    const commonProps = {\n      role: 'option',\n      ...(active && {\n        id: `${floatingId}-fui-option`\n      })\n    };\n\n    // For `menu`, we are unable to tell if the item is a `menuitemradio`\n    // or `menuitemcheckbox`. For backwards-compatibility reasons, also\n    // avoid defaulting to `menuitem` as it may overwrite custom role props.\n    switch (role) {\n      case 'select':\n      case 'combobox':\n        return {\n          ...commonProps,\n          'aria-selected': selected\n        };\n      default:\n    }\n    return {};\n  }, [floatingId, role]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating,\n    item\n  } : {}, [enabled, reference, floating, item]);\n}","map":{"version":3,"names":["React","useId","getFloatingFocusElement","useFloatingParentNodeId","componentRoleToAriaRoleMap","Map","useRole","context","props","open","elements","floatingId","defaultFloatingId","enabled","role","defaultReferenceId","referenceId","domReference","id","useMemo","floating","ariaRole","get","parentId","isNested","reference","undefined","floatingProps","item","useCallback","active","selected","commonProps"],"sources":["C:/Users/james/Documents/DermaScan/adminui/node_modules/@base-ui-components/react/esm/floating-ui-react/hooks/useRole.js"],"sourcesContent":["import * as React from 'react';\nimport { useId } from '@base-ui-components/utils/useId';\nimport { getFloatingFocusElement } from \"../utils.js\";\nimport { useFloatingParentNodeId } from \"../components/FloatingTree.js\";\nconst componentRoleToAriaRoleMap = new Map([['select', 'listbox'], ['combobox', 'listbox'], ['label', false]]);\n\n/**\n * Adds base screen reader props to the reference and floating elements for a\n * given floating element `role`.\n * @see https://floating-ui.com/docs/useRole\n */\nexport function useRole(context, props = {}) {\n  const {\n    open,\n    elements,\n    floatingId: defaultFloatingId\n  } = context;\n  const {\n    enabled = true,\n    role = 'dialog'\n  } = props;\n  const defaultReferenceId = useId();\n  const referenceId = elements.domReference?.id || defaultReferenceId;\n  const floatingId = React.useMemo(() => getFloatingFocusElement(elements.floating)?.id || defaultFloatingId, [elements.floating, defaultFloatingId]);\n  const ariaRole = componentRoleToAriaRoleMap.get(role) ?? role;\n  const parentId = useFloatingParentNodeId();\n  const isNested = parentId != null;\n  const reference = React.useMemo(() => {\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return {\n        [`aria-${role === 'label' ? 'labelledby' : 'describedby'}`]: open ? floatingId : undefined\n      };\n    }\n    return {\n      'aria-expanded': open ? 'true' : 'false',\n      'aria-haspopup': ariaRole === 'alertdialog' ? 'dialog' : ariaRole,\n      'aria-controls': open ? floatingId : undefined,\n      ...(ariaRole === 'listbox' && {\n        role: 'combobox'\n      }),\n      ...(ariaRole === 'menu' && {\n        id: referenceId\n      }),\n      ...(ariaRole === 'menu' && isNested && {\n        role: 'menuitem'\n      }),\n      ...(role === 'select' && {\n        'aria-autocomplete': 'none'\n      }),\n      ...(role === 'combobox' && {\n        'aria-autocomplete': 'list'\n      })\n    };\n  }, [ariaRole, floatingId, isNested, open, referenceId, role]);\n  const floating = React.useMemo(() => {\n    const floatingProps = {\n      id: floatingId,\n      ...(ariaRole && {\n        role: ariaRole\n      })\n    };\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return floatingProps;\n    }\n    return {\n      ...floatingProps,\n      ...(ariaRole === 'menu' && {\n        'aria-labelledby': referenceId\n      })\n    };\n  }, [ariaRole, floatingId, referenceId, role]);\n  const item = React.useCallback(({\n    active,\n    selected\n  }) => {\n    const commonProps = {\n      role: 'option',\n      ...(active && {\n        id: `${floatingId}-fui-option`\n      })\n    };\n\n    // For `menu`, we are unable to tell if the item is a `menuitemradio`\n    // or `menuitemcheckbox`. For backwards-compatibility reasons, also\n    // avoid defaulting to `menuitem` as it may overwrite custom role props.\n    switch (role) {\n      case 'select':\n      case 'combobox':\n        return {\n          ...commonProps,\n          'aria-selected': selected\n        };\n      default:\n    }\n    return {};\n  }, [floatingId, role]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating,\n    item\n  } : {}, [enabled, reference, floating, item]);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}