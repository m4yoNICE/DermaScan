{"ast":null,"code":"'use client';\n\nimport * as React from 'react';\nimport { useEventCallback } from '@base-ui-components/utils/useEventCallback';\nimport { FloatingFocusManager } from \"../../floating-ui-react/index.js\";\nimport { usePopoverRootContext } from \"../root/PopoverRootContext.js\";\nimport { usePopoverPositionerContext } from \"../positioner/PopoverPositionerContext.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { DISABLED_TRANSITIONS_STYLE, EMPTY_OBJECT } from \"../../utils/constants.js\";\nimport { COMPOSITE_KEYS } from \"../../composite/composite.js\";\nimport { useToolbarRootContext } from \"../../toolbar/root/ToolbarRootContext.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * A container for the popover contents.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Popover](https://base-ui.com/react/components/popover)\n */\nexport const PopoverPopup = /*#__PURE__*/React.forwardRef(function PopoverPopup(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    initialFocus,\n    finalFocus,\n    ...elementProps\n  } = componentProps;\n  const {\n    open,\n    instantType,\n    transitionStatus,\n    popupProps,\n    titleId,\n    descriptionId,\n    popupRef,\n    mounted,\n    openReason,\n    onOpenChangeComplete,\n    modal,\n    openMethod\n  } = usePopoverRootContext();\n  const positioner = usePopoverPositionerContext();\n  const insideToolbar = useToolbarRootContext(true) != null;\n  useOpenChangeComplete({\n    open,\n    ref: popupRef,\n    onComplete() {\n      if (open) {\n        onOpenChangeComplete?.(true);\n      }\n    }\n  });\n\n  // Default initial focus logic:\n  // If opened by touch, focus the popup element to prevent the virtual keyboard from opening\n  // (this is required for Android specifically as iOS handles this automatically).\n  const defaultInitialFocus = useEventCallback(interactionType => {\n    if (interactionType === 'touch') {\n      return popupRef.current;\n    }\n    return true;\n  });\n  const resolvedInitialFocus = initialFocus === undefined ? defaultInitialFocus : initialFocus;\n  const state = React.useMemo(() => ({\n    open,\n    side: positioner.side,\n    align: positioner.align,\n    instant: instantType,\n    transitionStatus\n  }), [open, positioner.side, positioner.align, instantType, transitionStatus]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, popupRef],\n    props: [popupProps, {\n      'aria-labelledby': titleId,\n      'aria-describedby': descriptionId,\n      onKeyDown(event) {\n        if (insideToolbar && COMPOSITE_KEYS.has(event.key)) {\n          event.stopPropagation();\n        }\n      }\n    }, transitionStatus === 'starting' ? DISABLED_TRANSITIONS_STYLE : EMPTY_OBJECT, elementProps],\n    stateAttributesMapping\n  });\n  return /*#__PURE__*/_jsx(FloatingFocusManager, {\n    context: positioner.context,\n    openInteractionType: openMethod,\n    modal: modal === 'trap-focus',\n    disabled: !mounted || openReason === 'trigger-hover',\n    initialFocus: resolvedInitialFocus,\n    returnFocus: finalFocus,\n    restoreFocus: \"popup\",\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") PopoverPopup.displayName = \"PopoverPopup\";","map":{"version":3,"names":["React","useEventCallback","FloatingFocusManager","usePopoverRootContext","usePopoverPositionerContext","popupStateMapping","baseMapping","transitionStatusMapping","useOpenChangeComplete","useRenderElement","DISABLED_TRANSITIONS_STYLE","EMPTY_OBJECT","COMPOSITE_KEYS","useToolbarRootContext","jsx","_jsx","stateAttributesMapping","PopoverPopup","forwardRef","componentProps","forwardedRef","className","render","initialFocus","finalFocus","elementProps","open","instantType","transitionStatus","popupProps","titleId","descriptionId","popupRef","mounted","openReason","onOpenChangeComplete","modal","openMethod","positioner","insideToolbar","ref","onComplete","defaultInitialFocus","interactionType","current","resolvedInitialFocus","undefined","state","useMemo","side","align","instant","element","props","onKeyDown","event","has","key","stopPropagation","context","openInteractionType","disabled","returnFocus","restoreFocus","children","process","env","NODE_ENV","displayName"],"sources":["C:/Users/james/Documents/DermaScan/adminui/node_modules/@base-ui-components/react/esm/popover/popup/PopoverPopup.js"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { useEventCallback } from '@base-ui-components/utils/useEventCallback';\nimport { FloatingFocusManager } from \"../../floating-ui-react/index.js\";\nimport { usePopoverRootContext } from \"../root/PopoverRootContext.js\";\nimport { usePopoverPositionerContext } from \"../positioner/PopoverPositionerContext.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { DISABLED_TRANSITIONS_STYLE, EMPTY_OBJECT } from \"../../utils/constants.js\";\nimport { COMPOSITE_KEYS } from \"../../composite/composite.js\";\nimport { useToolbarRootContext } from \"../../toolbar/root/ToolbarRootContext.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * A container for the popover contents.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Popover](https://base-ui.com/react/components/popover)\n */\nexport const PopoverPopup = /*#__PURE__*/React.forwardRef(function PopoverPopup(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    initialFocus,\n    finalFocus,\n    ...elementProps\n  } = componentProps;\n  const {\n    open,\n    instantType,\n    transitionStatus,\n    popupProps,\n    titleId,\n    descriptionId,\n    popupRef,\n    mounted,\n    openReason,\n    onOpenChangeComplete,\n    modal,\n    openMethod\n  } = usePopoverRootContext();\n  const positioner = usePopoverPositionerContext();\n  const insideToolbar = useToolbarRootContext(true) != null;\n  useOpenChangeComplete({\n    open,\n    ref: popupRef,\n    onComplete() {\n      if (open) {\n        onOpenChangeComplete?.(true);\n      }\n    }\n  });\n\n  // Default initial focus logic:\n  // If opened by touch, focus the popup element to prevent the virtual keyboard from opening\n  // (this is required for Android specifically as iOS handles this automatically).\n  const defaultInitialFocus = useEventCallback(interactionType => {\n    if (interactionType === 'touch') {\n      return popupRef.current;\n    }\n    return true;\n  });\n  const resolvedInitialFocus = initialFocus === undefined ? defaultInitialFocus : initialFocus;\n  const state = React.useMemo(() => ({\n    open,\n    side: positioner.side,\n    align: positioner.align,\n    instant: instantType,\n    transitionStatus\n  }), [open, positioner.side, positioner.align, instantType, transitionStatus]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, popupRef],\n    props: [popupProps, {\n      'aria-labelledby': titleId,\n      'aria-describedby': descriptionId,\n      onKeyDown(event) {\n        if (insideToolbar && COMPOSITE_KEYS.has(event.key)) {\n          event.stopPropagation();\n        }\n      }\n    }, transitionStatus === 'starting' ? DISABLED_TRANSITIONS_STYLE : EMPTY_OBJECT, elementProps],\n    stateAttributesMapping\n  });\n  return /*#__PURE__*/_jsx(FloatingFocusManager, {\n    context: positioner.context,\n    openInteractionType: openMethod,\n    modal: modal === 'trap-focus',\n    disabled: !mounted || openReason === 'trigger-hover',\n    initialFocus: resolvedInitialFocus,\n    returnFocus: finalFocus,\n    restoreFocus: \"popup\",\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") PopoverPopup.displayName = \"PopoverPopup\";"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}