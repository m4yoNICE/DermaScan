{"ast":null,"code":"import { tabbable } from 'tabbable';\nimport { activeElement, contains, getDocument } from \"./element.js\";\nexport const getTabbableOptions = () => ({\n  getShadowRoot: true,\n  displayCheck:\n  // JSDOM does not support the `tabbable` library. To solve this we can\n  // check if `ResizeObserver` is a real function (not polyfilled), which\n  // determines if the current environment is JSDOM-like.\n  typeof ResizeObserver === 'function' && ResizeObserver.toString().includes('[native code]') ? 'full' : 'none'\n});\nfunction getTabbableIn(container, dir) {\n  const list = tabbable(container, getTabbableOptions());\n  const len = list.length;\n  if (len === 0) {\n    return undefined;\n  }\n  const active = activeElement(getDocument(container));\n  const index = list.indexOf(active);\n  // eslint-disable-next-line no-nested-ternary\n  const nextIndex = index === -1 ? dir === 1 ? 0 : len - 1 : index + dir;\n  return list[nextIndex];\n}\nexport function getNextTabbable(referenceElement) {\n  return getTabbableIn(getDocument(referenceElement).body, 1) || referenceElement;\n}\nexport function getPreviousTabbable(referenceElement) {\n  return getTabbableIn(getDocument(referenceElement).body, -1) || referenceElement;\n}\nexport function isOutsideEvent(event, container) {\n  const containerElement = container || event.currentTarget;\n  const relatedTarget = event.relatedTarget;\n  return !relatedTarget || !contains(containerElement, relatedTarget);\n}\nexport function disableFocusInside(container) {\n  const tabbableElements = tabbable(container, getTabbableOptions());\n  tabbableElements.forEach(element => {\n    element.dataset.tabindex = element.getAttribute('tabindex') || '';\n    element.setAttribute('tabindex', '-1');\n  });\n}\nexport function enableFocusInside(container) {\n  const elements = container.querySelectorAll('[data-tabindex]');\n  elements.forEach(element => {\n    const tabindex = element.dataset.tabindex;\n    delete element.dataset.tabindex;\n    if (tabindex) {\n      element.setAttribute('tabindex', tabindex);\n    } else {\n      element.removeAttribute('tabindex');\n    }\n  });\n}","map":{"version":3,"names":["tabbable","activeElement","contains","getDocument","getTabbableOptions","getShadowRoot","displayCheck","ResizeObserver","toString","includes","getTabbableIn","container","dir","list","len","length","undefined","active","index","indexOf","nextIndex","getNextTabbable","referenceElement","body","getPreviousTabbable","isOutsideEvent","event","containerElement","currentTarget","relatedTarget","disableFocusInside","tabbableElements","forEach","element","dataset","tabindex","getAttribute","setAttribute","enableFocusInside","elements","querySelectorAll","removeAttribute"],"sources":["C:/Users/james/Documents/DermaScan/adminui/node_modules/@base-ui-components/react/esm/floating-ui-react/utils/tabbable.js"],"sourcesContent":["import { tabbable } from 'tabbable';\nimport { activeElement, contains, getDocument } from \"./element.js\";\nexport const getTabbableOptions = () => ({\n  getShadowRoot: true,\n  displayCheck:\n  // JSDOM does not support the `tabbable` library. To solve this we can\n  // check if `ResizeObserver` is a real function (not polyfilled), which\n  // determines if the current environment is JSDOM-like.\n  typeof ResizeObserver === 'function' && ResizeObserver.toString().includes('[native code]') ? 'full' : 'none'\n});\nfunction getTabbableIn(container, dir) {\n  const list = tabbable(container, getTabbableOptions());\n  const len = list.length;\n  if (len === 0) {\n    return undefined;\n  }\n  const active = activeElement(getDocument(container));\n  const index = list.indexOf(active);\n  // eslint-disable-next-line no-nested-ternary\n  const nextIndex = index === -1 ? dir === 1 ? 0 : len - 1 : index + dir;\n  return list[nextIndex];\n}\nexport function getNextTabbable(referenceElement) {\n  return getTabbableIn(getDocument(referenceElement).body, 1) || referenceElement;\n}\nexport function getPreviousTabbable(referenceElement) {\n  return getTabbableIn(getDocument(referenceElement).body, -1) || referenceElement;\n}\nexport function isOutsideEvent(event, container) {\n  const containerElement = container || event.currentTarget;\n  const relatedTarget = event.relatedTarget;\n  return !relatedTarget || !contains(containerElement, relatedTarget);\n}\nexport function disableFocusInside(container) {\n  const tabbableElements = tabbable(container, getTabbableOptions());\n  tabbableElements.forEach(element => {\n    element.dataset.tabindex = element.getAttribute('tabindex') || '';\n    element.setAttribute('tabindex', '-1');\n  });\n}\nexport function enableFocusInside(container) {\n  const elements = container.querySelectorAll('[data-tabindex]');\n  elements.forEach(element => {\n    const tabindex = element.dataset.tabindex;\n    delete element.dataset.tabindex;\n    if (tabindex) {\n      element.setAttribute('tabindex', tabindex);\n    } else {\n      element.removeAttribute('tabindex');\n    }\n  });\n}"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,UAAU;AACnC,SAASC,aAAa,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,cAAc;AACnE,OAAO,MAAMC,kBAAkB,GAAGA,CAAA,MAAO;EACvCC,aAAa,EAAE,IAAI;EACnBC,YAAY;EACZ;EACA;EACA;EACA,OAAOC,cAAc,KAAK,UAAU,IAAIA,cAAc,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,eAAe,CAAC,GAAG,MAAM,GAAG;AACzG,CAAC,CAAC;AACF,SAASC,aAAaA,CAACC,SAAS,EAAEC,GAAG,EAAE;EACrC,MAAMC,IAAI,GAAGb,QAAQ,CAACW,SAAS,EAAEP,kBAAkB,CAAC,CAAC,CAAC;EACtD,MAAMU,GAAG,GAAGD,IAAI,CAACE,MAAM;EACvB,IAAID,GAAG,KAAK,CAAC,EAAE;IACb,OAAOE,SAAS;EAClB;EACA,MAAMC,MAAM,GAAGhB,aAAa,CAACE,WAAW,CAACQ,SAAS,CAAC,CAAC;EACpD,MAAMO,KAAK,GAAGL,IAAI,CAACM,OAAO,CAACF,MAAM,CAAC;EAClC;EACA,MAAMG,SAAS,GAAGF,KAAK,KAAK,CAAC,CAAC,GAAGN,GAAG,KAAK,CAAC,GAAG,CAAC,GAAGE,GAAG,GAAG,CAAC,GAAGI,KAAK,GAAGN,GAAG;EACtE,OAAOC,IAAI,CAACO,SAAS,CAAC;AACxB;AACA,OAAO,SAASC,eAAeA,CAACC,gBAAgB,EAAE;EAChD,OAAOZ,aAAa,CAACP,WAAW,CAACmB,gBAAgB,CAAC,CAACC,IAAI,EAAE,CAAC,CAAC,IAAID,gBAAgB;AACjF;AACA,OAAO,SAASE,mBAAmBA,CAACF,gBAAgB,EAAE;EACpD,OAAOZ,aAAa,CAACP,WAAW,CAACmB,gBAAgB,CAAC,CAACC,IAAI,EAAE,CAAC,CAAC,CAAC,IAAID,gBAAgB;AAClF;AACA,OAAO,SAASG,cAAcA,CAACC,KAAK,EAAEf,SAAS,EAAE;EAC/C,MAAMgB,gBAAgB,GAAGhB,SAAS,IAAIe,KAAK,CAACE,aAAa;EACzD,MAAMC,aAAa,GAAGH,KAAK,CAACG,aAAa;EACzC,OAAO,CAACA,aAAa,IAAI,CAAC3B,QAAQ,CAACyB,gBAAgB,EAAEE,aAAa,CAAC;AACrE;AACA,OAAO,SAASC,kBAAkBA,CAACnB,SAAS,EAAE;EAC5C,MAAMoB,gBAAgB,GAAG/B,QAAQ,CAACW,SAAS,EAAEP,kBAAkB,CAAC,CAAC,CAAC;EAClE2B,gBAAgB,CAACC,OAAO,CAACC,OAAO,IAAI;IAClCA,OAAO,CAACC,OAAO,CAACC,QAAQ,GAAGF,OAAO,CAACG,YAAY,CAAC,UAAU,CAAC,IAAI,EAAE;IACjEH,OAAO,CAACI,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;EACxC,CAAC,CAAC;AACJ;AACA,OAAO,SAASC,iBAAiBA,CAAC3B,SAAS,EAAE;EAC3C,MAAM4B,QAAQ,GAAG5B,SAAS,CAAC6B,gBAAgB,CAAC,iBAAiB,CAAC;EAC9DD,QAAQ,CAACP,OAAO,CAACC,OAAO,IAAI;IAC1B,MAAME,QAAQ,GAAGF,OAAO,CAACC,OAAO,CAACC,QAAQ;IACzC,OAAOF,OAAO,CAACC,OAAO,CAACC,QAAQ;IAC/B,IAAIA,QAAQ,EAAE;MACZF,OAAO,CAACI,YAAY,CAAC,UAAU,EAAEF,QAAQ,CAAC;IAC5C,CAAC,MAAM;MACLF,OAAO,CAACQ,eAAe,CAAC,UAAU,CAAC;IACrC;EACF,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}