{"ast":null,"code":"import * as React from 'react';\nimport { ACTIVE_KEY, FOCUSABLE_ATTRIBUTE, SELECTED_KEY } from \"../utils/constants.js\";\n/**\n * Merges an array of interaction hooks' props into prop getters, allowing\n * event handler functions to be composed together without overwriting one\n * another.\n * @see https://floating-ui.com/docs/useInteractions\n */\nexport function useInteractions(propsList = []) {\n  const referenceDeps = propsList.map(key => key?.reference);\n  const floatingDeps = propsList.map(key => key?.floating);\n  const itemDeps = propsList.map(key => key?.item);\n  const getReferenceProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'reference'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  referenceDeps);\n  const getFloatingProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'floating'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  floatingDeps);\n  const getItemProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'item'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  itemDeps);\n  return React.useMemo(() => ({\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  }), [getReferenceProps, getFloatingProps, getItemProps]);\n}\n\n/* eslint-disable guard-for-in */\n\nfunction mergeProps(userProps, propsList, elementKey) {\n  const eventHandlers = new Map();\n  const isItem = elementKey === 'item';\n  const outputProps = {};\n  if (elementKey === 'floating') {\n    outputProps.tabIndex = -1;\n    outputProps[FOCUSABLE_ATTRIBUTE] = '';\n  }\n  for (const key in userProps) {\n    if (isItem && userProps) {\n      if (key === ACTIVE_KEY || key === SELECTED_KEY) {\n        continue;\n      }\n    }\n    outputProps[key] = userProps[key];\n  }\n  for (let i = 0; i < propsList.length; i += 1) {\n    let props;\n    const propsOrGetProps = propsList[i]?.[elementKey];\n    if (typeof propsOrGetProps === 'function') {\n      props = userProps ? propsOrGetProps(userProps) : null;\n    } else {\n      props = propsOrGetProps;\n    }\n    if (!props) {\n      continue;\n    }\n    mutablyMergeProps(outputProps, props, isItem, eventHandlers);\n  }\n  mutablyMergeProps(outputProps, userProps, isItem, eventHandlers);\n  return outputProps;\n}\nfunction mutablyMergeProps(outputProps, props, isItem, eventHandlers) {\n  for (const key in props) {\n    const value = props[key];\n    if (isItem && (key === ACTIVE_KEY || key === SELECTED_KEY)) {\n      continue;\n    }\n    if (!key.startsWith('on')) {\n      outputProps[key] = value;\n    } else {\n      if (!eventHandlers.has(key)) {\n        eventHandlers.set(key, []);\n      }\n      if (typeof value === 'function') {\n        eventHandlers.get(key)?.push(value);\n        outputProps[key] = (...args) => {\n          return eventHandlers.get(key)?.map(fn => fn(...args)).find(val => val !== undefined);\n        };\n      }\n    }\n  }\n}","map":{"version":3,"names":["React","ACTIVE_KEY","FOCUSABLE_ATTRIBUTE","SELECTED_KEY","useInteractions","propsList","referenceDeps","map","key","reference","floatingDeps","floating","itemDeps","item","getReferenceProps","useCallback","userProps","mergeProps","getFloatingProps","getItemProps","useMemo","elementKey","eventHandlers","Map","isItem","outputProps","tabIndex","i","length","props","propsOrGetProps","mutablyMergeProps","value","startsWith","has","set","get","push","args","fn","find","val","undefined"],"sources":["C:/Users/james/Documents/DermaScan/adminui/node_modules/@base-ui-components/react/esm/floating-ui-react/hooks/useInteractions.js"],"sourcesContent":["import * as React from 'react';\nimport { ACTIVE_KEY, FOCUSABLE_ATTRIBUTE, SELECTED_KEY } from \"../utils/constants.js\";\n/**\n * Merges an array of interaction hooks' props into prop getters, allowing\n * event handler functions to be composed together without overwriting one\n * another.\n * @see https://floating-ui.com/docs/useInteractions\n */\nexport function useInteractions(propsList = []) {\n  const referenceDeps = propsList.map(key => key?.reference);\n  const floatingDeps = propsList.map(key => key?.floating);\n  const itemDeps = propsList.map(key => key?.item);\n  const getReferenceProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'reference'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  referenceDeps);\n  const getFloatingProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'floating'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  floatingDeps);\n  const getItemProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'item'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  itemDeps);\n  return React.useMemo(() => ({\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  }), [getReferenceProps, getFloatingProps, getItemProps]);\n}\n\n/* eslint-disable guard-for-in */\n\nfunction mergeProps(userProps, propsList, elementKey) {\n  const eventHandlers = new Map();\n  const isItem = elementKey === 'item';\n  const outputProps = {};\n  if (elementKey === 'floating') {\n    outputProps.tabIndex = -1;\n    outputProps[FOCUSABLE_ATTRIBUTE] = '';\n  }\n  for (const key in userProps) {\n    if (isItem && userProps) {\n      if (key === ACTIVE_KEY || key === SELECTED_KEY) {\n        continue;\n      }\n    }\n    outputProps[key] = userProps[key];\n  }\n  for (let i = 0; i < propsList.length; i += 1) {\n    let props;\n    const propsOrGetProps = propsList[i]?.[elementKey];\n    if (typeof propsOrGetProps === 'function') {\n      props = userProps ? propsOrGetProps(userProps) : null;\n    } else {\n      props = propsOrGetProps;\n    }\n    if (!props) {\n      continue;\n    }\n    mutablyMergeProps(outputProps, props, isItem, eventHandlers);\n  }\n  mutablyMergeProps(outputProps, userProps, isItem, eventHandlers);\n  return outputProps;\n}\nfunction mutablyMergeProps(outputProps, props, isItem, eventHandlers) {\n  for (const key in props) {\n    const value = props[key];\n    if (isItem && (key === ACTIVE_KEY || key === SELECTED_KEY)) {\n      continue;\n    }\n    if (!key.startsWith('on')) {\n      outputProps[key] = value;\n    } else {\n      if (!eventHandlers.has(key)) {\n        eventHandlers.set(key, []);\n      }\n      if (typeof value === 'function') {\n        eventHandlers.get(key)?.push(value);\n        outputProps[key] = (...args) => {\n          return eventHandlers.get(key)?.map(fn => fn(...args)).find(val => val !== undefined);\n        };\n      }\n    }\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}